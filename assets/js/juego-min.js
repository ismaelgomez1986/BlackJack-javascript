
const myModule = (() => { "use strict"; let a = prompt("Ingrese su nombre"); document.querySelector("h1").innerHTML = `${a} - <small>0</small>`; let f = [], g = [], h = ["C", "D", "S", "H"], i = ["A", "J", "Q", "K"], b = document.querySelector("#btnNew"), c = document.querySelector("#btnAsk"), d = document.querySelector("#btnStop"), j = document.querySelectorAll("small"), k = document.querySelectorAll(".divCards"), e = (b = 2) => { g = [], f = l(); for (let a = 0; a < b; a++)g.push(0); j.forEach(a => a.innerText = 0), k.forEach(a => a.innerHTML = ""), c.disabled = !1, d.disabled = !1 }, l = () => { f = []; for (let a = 2; a <= 10; a++)for (let b of h) f.push(a + b); for (let c of i) for (let d of h) f.push(c + d); return _.shuffle(f) }, m = () => { if (0 === f.length) throw "Ismael: No hay m\xe1s cartas en el deck"; return f.pop() }, n = b => { let a = b.substring(0, b.length - 1); return isNaN(a) ? "A" === a ? 11 : 10 : 1 * a }, o = (b, a) => (g[a] += n(b), j[a].innerHTML = g[a], g[a]), p = (b, c) => { let a = document.createElement("img"); a.src = `./assets/cartas/${b}.png`, a.classList.add("cards"), k[c].append(a) }, q = () => { let [a, b] = g, c = g[0]; setTimeout(() => { b === a ? alert("This is a TIE :/") : a > 21 ? alert("You lose, try it again! :(") : b > 21 ? alert("You Win!!! :)") : b <= 21 && b > c ? alert("You lose, try it again! :(") : c <= 21 && c > b && alert("You Win!!! :)") }, 500) }, r = a => { let b = 0; do { let c = m(); b = o(c, g.length - 1), p(c, g.length - 1) } while (b < a && a <= 21) q() }; return c.addEventListener("click", () => { let b = m(), a = o(b, 0); p(b, 0), a > 21 ? (console.warn("Lo siento, perdiste"), c.disabled = !0, d.disabled = !0, r(a)) : 21 === a && (console.warn("GANASTE!!!"), c.disabled = !0, d.disabled = !0, r(a)) }), d.addEventListener("click", () => { c.disabled = !0, d.disabled = !0, r(g[0]) }), b.addEventListener("click", () => { e() }), { inicializarJuego: e } })()